# Final project

## Файлы
`app.py` - основной файл, в котором происходит вызов функций проекта

`import_data.py` - файл, содержащий функции по импорту матриц и векторайзеров

`request_processing.py` - файл, использующийся для векторизации запроса и поиска ближайших из документов, содержит функции для TF-IDF, BM25 и BERT

## Функции
`main()` - основная функция, в которой вызываются остальные ниже

`import_files()` - функция загружает из папки проекта матрицы и векторайзеры, а также инициализирует `morph` из `pymorphy2, используется кэширование

`import_bert()` - функция инициализирует токенайзер и модель BERT

`lemmatize(text, morph, stoplist)` - функция получает на вход текст, морфологизатор и стоплист, очищает текст, с помощью `pymorphy2` определяются леммы, возвращается строка из лемм

`mean_pooling(model_output, attention_mask)` и `indexing_bert(text)` - функции для подсчета матриц (BERT), `indexing_bert()` принимает на вход необработанный текст

`request_search_tfidf(vectorizer, text, morph, stoplist)` - функция получает на вход запрос, vectorizer и объекты для лемматизации, считает вектор для запроса, возвращается вектор

`request_search_bm25(vectorizer, text, morph, stoplist)` - функция получает на вход запрос, vectorizer и объекты для лемматизации, считает вектор для запроса, возвращается вектор

`request_search_bert(tokenizer, text)` - функция получает на вход запрос и токенайзер, считает вектор для запроса, возвращается вектор

`search_similar(matrix, request)` - функция получает на вход матрицу и векторизированный запрос и перемножает их

`create_output(scores, text)` - функция получается на вход скоры и корпус текстов и сортирует их 

